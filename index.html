<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food delivery</title>
</head>
<style>
    #navbar {
        display: flex;
        justify-content:space-between;
        padding-left: 2%;
        padding-right: 2%;
    }
  

</style>
<body>
    <div id="navbar">
        <img style="height: 100px;" src="data:image/png;base64,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"/>
        <h3><a href="menu.html">Menu</a></h3>
        <h3><a href="signup.html">Sign Up</a></h3>
        <h3><a href="login.html">Log In</a></h3>
        <h3><a href="cart.html">Cart</a></h3>
        <h3 id="user"></h3>
    </div>

    
    
</body>
</html>
<script>
   function SignUp(e) {
        e.preventDefault();

        let form = document.getElementById("signup")

        let user_details = {
            name:form.name.value,
            email:form.email.value,
            password:form.password.value,
            username:form.username.value,
            mobile:form.mobile.value,
            description:form.description.value,
        };

        user_details = JSON.stringify(user_details);

        fetch("https://masai-api-mocker.herokuapp.com/auth/register",{
            method: 'POST',
            body: user_details,

            headers:{
                'Content-Type': 'application/json'
            },
        })
        .then((response) => {
            return response.json();
        })
        .then((response) => {
            console.log(response);
        })
        .catch((err) => {
            console.log(err);
        })
    }

    function Login(e) {
        e.preventDefault();

        let form = document.getElementById("login")

        let user_details = {
            username:form.username.value,
            password:form.password.value,
         
        };

        let data_send= JSON.stringify(user_details);
        console.log(data_send);

        fetch("https://masai-api-mocker.herokuapp.com/auth/login",{
            method: 'POST',
            body: data_send,

            headers:{
                'Content-Type': 'application/json'
            },
        })
        .then((response) => {
            return response.json();
        })
        .then((response) => {
            console.log(response);
            validReg(user_details.username,res.token)
        })
        .catch((err) => {
            console.log(err);
        })
    }

    function validReg (username,token) {

        fetch (`https://masai-api-mocker.herokuapp.com/user/${username}`,{

            headers:{
                'Content-Type': 'application/json',
                Authorization: `Bearer${token}`
            },
        })

        .then((response) => {
            return response.json();
        })
        .then((response) => {
            Login(user.username)
            window.location.href = "index.html"
            console.log(response);
           
        })
        .catch((err) => {
            console.log(err);
        })
    }

    function Login (user) {
        let data = JSON.parse(localStorage.getItem("user_details"))
        data.push(user);
        localStorage.setItem("user_details",JSON.stringify(data));
    }

    let name_data = document.getElementById("user");
    let data = JSON.parse(localStorage.getItem("user_details"))
    console.log(data.length);
    name_data.innerText = null;
    name_data.append(data[data.length-1]);
</script>